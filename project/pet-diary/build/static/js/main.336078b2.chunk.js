(this["webpackJsonppet-diary"]=this["webpackJsonppet-diary"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),s=n.n(i),a=n(17),j=n.n(a),r=(n(24),n(8)),l=n(4),o=(n(25),n(2)),d="data:image/png;base64,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",b=function(){return Object(c.jsx)("div",{className:"loader"})},u={"username-required":"Please enter username to login","username-invalid":"The username is invalid!","field-required":"Please fill in the required fields!"},h={Health:"#5ffe81",Toy:"#fe5f5f",Food:"#fe995f",Cloth:"#5fb6fe",Essentials:"#d15ffe"},O=function(e){var t={backgroundColor:h[e.text],textAlign:"center",display:"inline-block",width:"4rem",borderRadius:".5rem",padding:".1em 1em"};return Object(c.jsx)("span",{style:t,children:e.text})},p=function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),s=n[0],a=n[1],j=Object(i.useState)({}),r=Object(o.a)(j,2),l=r[0],d=r[1],p=Object(i.useState)(!1),f=Object(o.a)(p,2),m=f[0],x=f[1],U=Object(i.useState)(!1),v=Object(o.a)(U,2),g=v[0],A=v[1],z=Object(i.useState)(""),y=Object(o.a)(z,2),N=y[0],V=y[1],S=Object(i.useState)(""),w=Object(o.a)(S,2),C=w[0],D=w[1],P=Object(i.useState)(""),T=Object(o.a)(P,2),k=T[0],E=T[1],L=Object(i.useState)(""),M=Object(o.a)(L,2),B=M[0],F=M[1],R=Object(i.useState)(""),I=Object(o.a)(R,2),W=I[0],X=I[1];Object(i.useEffect)((function(){a(!0),fetch("/api/expenses").catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)})).then((function(e){d(e)})).finally((function(){return a(!1)}))}),[]);var Q=function(e,t){"date"===t?V(e.target.value):"cost"===t?D(e.target.value):"category"===t?E(e.target.value):F(e.target.value),X("")};return s?Object(c.jsx)(b,{}):Object(c.jsxs)("div",{className:"expense-page",children:[Object(c.jsx)("button",{onClick:function(){m?N&&C&&k?(A(!0),function(e){var t=e.date,n=e.cost,c=e.category,i=e.notes;return fetch("/api/expenses",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({date:t,cost:n,category:c,notes:i})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)}))}({date:N,cost:C,category:k,notes:B}).then((function(e){d(e),x(!1),V(""),D(""),E(""),F(""),X("")})).catch((function(e){X(e)})).finally((function(){return A(!1)}))):X(u["field-required"]):x(!0)},children:"+ add new expense"}),Object(c.jsx)("div",{children:Object(c.jsx)("ul",{className:"expense-list",children:Object.keys(l).map((function(e){return Object(c.jsxs)("li",{children:[e,Object(c.jsx)("ul",{children:Object.keys(l[e]).map((function(t){return Object(c.jsxs)("li",{className:"expense-item",children:[Object(c.jsxs)("div",{className:"expense-item-group",children:[Object(c.jsx)(O,{text:l[e][t].category}),Object(c.jsx)("span",{className:"expense-item-note",children:l[e][t].notes})]}),Object(c.jsx)("div",{className:"expense-item-cost",children:l[e][t].cost})]},t)}))})]},e)}))})}),m?Object(c.jsxs)("div",{className:"expense-add-item",children:[Object(c.jsx)("div",{className:"expense-item-prompt",children:"Note: fields with * is required"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"expense-item-label",children:"*Date:"}),Object(c.jsx)("input",{type:"date",disabled:g,onChange:function(e){return Q(e,"date")},value:N})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"expense-item-label",children:"*Cost:"}),Object(c.jsx)("input",{type:"number",min:"0",disabled:g,onChange:function(e){return Q(e,"cost")},value:C})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"expense-item-label",children:"*Category:"}),Object(c.jsxs)("select",{id:"category",name:"category",onChange:function(e){return Q(e,"category")},value:k,disabled:g,children:[Object(c.jsx)("option",{children:"..."}),Object.keys(h).map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"expense-item-label",children:"Notes:"}),Object(c.jsx)("input",{disabled:g,onChange:function(e){return Q(e,"notes")},value:B})]}),W&&Object(c.jsx)("div",{className:"error-panel",children:W})]}):null]})},f=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(i.useState)(""),j=Object(o.a)(a,2),r=j[0],l=j[1],d=Object(i.useState)(""),h=Object(o.a)(d,2),O=h[0],p=h[1],f=Object(i.useState)(""),m=Object(o.a)(f,2),x=m[0],U=m[1],v=Object(i.useState)([]),g=Object(o.a)(v,2),A=g[0],z=g[1],y=Object(i.useState)(""),N=Object(o.a)(y,2),V=N[0],S=N[1],w=Object(i.useState)(""),C=Object(o.a)(w,2),D=C[0],P=C[1],T=Object(i.useState)(!1),k=Object(o.a)(T,2),E=k[0],L=k[1],M=Object(i.useState)(!1),B=Object(o.a)(M,2),F=B[0],R=B[1],I=Object(i.useState)(""),W=Object(o.a)(I,2),X=W[0],Q=W[1];Object(i.useEffect)((function(){s(!0),fetch("/api/profile").catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)})).then((function(e){var t=e.profile,n=t.name,c=t.type,i=t.breed,s=t.gender,a=t.weight;l(n),p(c),U(i),z(e.breeds),S(s),P(a)})).finally((function(){return s(!1)}))}),[]);var Y=function(e,t){Q(""),"name"===t?l(e.target.value):"type"===t?p(e.target.value):"breed"===t?U(e.target.value):"gender"===t?S(e.target.value):"weight"===t&&P(e.target.value)};return n?Object(c.jsx)(b,{}):Object(c.jsx)("div",{className:"profile-page",children:Object(c.jsxs)("div",{className:"profile-basic",children:[Object(c.jsx)("button",{onClick:function(){F?r&&O&&x&&V?(L(!0),function(e){var t=e.name,n=e.type,c=e.breed,i=e.gender,s=e.weight;return fetch("/api/profile",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({name:t,type:n,breed:c,gender:i,weight:s})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}({name:r,type:O,breed:x,gender:V,weight:D}).catch((function(e){return Q(e)})).finally((function(){L(!1),R(!1)}))):Q(u["field-required"]):R(!0)},children:"update"}),Object(c.jsxs)("div",{className:"profile-info-item",children:[Object(c.jsx)("label",{children:"*Name:"}),F||""===r?Object(c.jsx)("input",{onChange:function(e){return Y(e,"name")},value:r,disabled:E}):Object(c.jsx)("span",{children:r})]}),Object(c.jsxs)("div",{className:"profile-info-item",children:[Object(c.jsx)("label",{children:"*Type:"}),F||""===r?Object(c.jsxs)("select",{id:"type",name:"type",onChange:function(e){return Y(e,"type")},value:O,disabled:E,children:[Object(c.jsx)("option",{children:"..."}),Object(c.jsx)("option",{value:"dog",children:"dog"}),Object(c.jsx)("option",{value:"cat",children:"cat"})]}):Object(c.jsx)("span",{children:O})]}),Object(c.jsxs)("div",{className:"profile-info-item",children:[Object(c.jsx)("label",{children:"*Breed:"}),F||""===r?Object(c.jsxs)("select",{id:"breed",name:"breed",onChange:function(e){return Y(e,"breed")},value:x,disabled:E,children:[Object(c.jsx)("option",{children:"..."}),"dog"===O?A.dogBreeds.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)})):null,"cat"===O?A.catBreeds.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)})):null]}):Object(c.jsx)("span",{children:x})]}),Object(c.jsxs)("div",{className:"profile-info-item",children:[Object(c.jsx)("label",{children:"*Gender:"}),F||""===r?Object(c.jsxs)("select",{id:"gender",name:"gender",onChange:function(e){return Y(e,"gender")},value:V,disabled:E,children:[Object(c.jsx)("option",{children:"..."}),Object(c.jsx)("option",{value:"male",children:"male"}),Object(c.jsx)("option",{value:"female",children:"female"})]}):Object(c.jsx)("span",{children:V})]}),Object(c.jsxs)("div",{className:"profile-info-item",children:[Object(c.jsx)("label",{children:"Weight:"}),F||""===r?Object(c.jsx)("input",{type:"number",onChange:function(e){return Y(e,"weight")},value:D,disabled:E}):Object(c.jsx)("span",{children:D})," lbs"]}),X&&Object(c.jsx)("div",{className:"error-panel",children:X})]})})},m=function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),s=n[0],a=n[1],j=Object(i.useState)(!0),r=Object(o.a)(j,2),l=r[0],d=r[1],u=Object(i.useState)(!0),h=Object(o.a)(u,2),O=h[0],p=h[1],f=Object(i.useState)({}),m=Object(o.a)(f,2),x=m[0],U=m[1],v=Object(i.useState)([]),g=Object(o.a)(v,2),A=g[0],z=g[1],y=Object(i.useState)(""),N=Object(o.a)(y,2),V=N[0],S=N[1];Object(i.useEffect)((function(){a(!0),fetch("/api/encyclopedia").catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)})).then((function(e){U(e.breedInfo),z(e.vaccineInfo)})).finally((function(){return a(!1)}))}),[]);var w=function(e){V===e.target.innerText?S(""):S(e.target.innerText)};return s?Object(c.jsx)(b,{}):Object(c.jsxs)("div",{className:"encyclopedia-page",children:[Object(c.jsxs)("div",{className:"encyclopedia-breed-info",children:[Object(c.jsx)("div",{className:"encyclopedia-section-title",children:"Breed Information"}),x&&x[0]?Object(c.jsxs)("div",{className:"encyclopedia-section-content",children:[Object(c.jsx)("div",{className:"encyclopedia-breed-name",children:x[0].name}),Object(c.jsxs)("div",{className:"encyclopedia-breed-info-item",children:[Object(c.jsx)("label",{children:"Group:"}),Object(c.jsx)("span",{children:x[0].breed_group})]}),Object(c.jsxs)("div",{className:"encyclopedia-breed-info-item",children:[Object(c.jsx)("label",{children:"Height:"}),l?Object(c.jsxs)("span",{className:"encyclopedia-breed-height-item",children:[x[0].height.imperial," inches"]}):Object(c.jsxs)("span",{className:"encyclopedia-breed-height-item",children:[x[0].height.metric," cm"]}),Object(c.jsx)("button",{onClick:function(){return d(!l)},children:l?"cm":"inches"})]}),Object(c.jsxs)("div",{className:"encyclopedia-breed-info-item",children:[Object(c.jsx)("label",{children:"Weight:"}),O?Object(c.jsxs)("span",{className:"encyclopedia-breed-weight-item",children:[x[0].weight.imperial," lbs"]}):Object(c.jsxs)("span",{className:"encyclopedia-breed-weight-item",children:[x[0].weight.metric," kg"]}),Object(c.jsx)("button",{onClick:function(){return p(!O)},children:O?"kg":"lbs"})]}),Object(c.jsxs)("div",{className:"encyclopedia-breed-info-item",children:[Object(c.jsx)("label",{children:"Life Expectancy:"}),Object(c.jsx)("span",{children:x[0].life_span})]}),Object(c.jsxs)("div",{className:"encyclopedia-breed-info-item",children:[Object(c.jsx)("label",{children:"Temperament:"}),Object(c.jsx)("span",{children:x[0].temperament})]})]}):Object(c.jsxs)("div",{className:"encyclopedia-section-content",children:["Please enter pet info in ",Object(c.jsx)("a",{href:"/profile",children:"profile"})," ","to check breed info"]})]}),Object(c.jsxs)("div",{className:"encyclopedia-vaccine-info",children:[Object(c.jsx)("div",{className:"encyclopedia-section-title",children:"Vaccine Information"}),Object(c.jsxs)("div",{className:"encyclopedia-section-content",children:[Object(c.jsx)("span",{className:"encyclopedia-vaccine-label",children:"Which Shots Do Puppies Need?"}),Object(c.jsx)("ul",{className:"encyclopedia-vaccine-list",children:A.vaccineList&&Object.keys(A.vaccineList).map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:"encyclopedia-vaccine-item",onClick:w,children:e}),Object(c.jsx)("p",{children:e===V&&A.vaccineList[e].info})]},e)}))}),Object(c.jsxs)("div",{className:"encyclopedia-vaccine-timetable",children:[Object(c.jsx)("span",{className:"encyclopedia-vaccine-label",children:"Puppy Vaccination Schedule"}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{className:"encyclopedia-vaccine-timetable-age",children:"Puppy\u2019s Age"}),Object(c.jsx)("th",{className:"encyclopedia-vaccine-timetable-recommended",children:"Recommended Vaccinations"}),Object(c.jsx)("th",{className:"encyclopedia-vaccine-timetable-optional",children:"Optional Vaccinations"})]})}),Object(c.jsx)("tbody",{children:A.vaccineSchedule&&A.vaccineSchedule.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"encyclopedia-vaccine-timetable-age",children:e["Puppy\u2019s Age"]}),Object(c.jsx)("td",{className:"encyclopedia-vaccine-timetable-recommended",children:e["Recommended Vaccinations"]}),Object(c.jsx)("td",{className:"encyclopedia-vaccine-timetable-optional",children:e["Optional Vaccinations"]})]},t)}))})]})]})]})]})]})},x=Object(c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M22 12L17 8V11L8 11V13L17 13V16L22 12Z",fill:"#007484"}),Object(c.jsx)("path",{d:"M10.9988 21.0009C12.1813 21.0042 13.3526 20.7728 14.445 20.3202C15.5375 19.8675 16.5292 19.2026 17.3628 18.3639L15.9488 16.9499C14.6268 18.2719 12.8688 19.0009 10.9988 19.0009C9.12879 19.0009 7.37079 18.2719 6.04879 16.9499C4.72679 15.6279 3.99779 13.8699 3.99779 11.9999C3.99779 10.1299 4.72679 8.37194 6.04879 7.04994C7.37079 5.72794 9.12879 4.99894 10.9988 4.99894C12.8688 4.99894 14.6268 5.72794 15.9488 7.04994L17.3628 5.63594C15.6638 3.93594 13.4038 2.99894 10.9988 2.99894C8.59379 2.99894 6.33379 3.93594 4.63479 5.63594C2.93479 7.33494 1.99779 9.59494 1.99779 11.9999C1.99779 14.4049 2.93479 16.6649 4.63479 18.3639C5.4684 19.2026 6.46013 19.8675 7.55254 20.3202C8.64495 20.7728 9.81632 21.0042 10.9988 21.0009Z",fill:"#007484"})]}),U=function(e){var t=Object(l.f)(),n=Object(i.useState)(e.view),s=Object(o.a)(n,2),a=s[0],j=s[1],r=Object(i.useState)(!1),u=Object(o.a)(r,2),h=u[0],O=u[1];Object(i.useEffect)((function(){fetch("/api/session",{method:"GET"}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)})).then((function(){O(!0)})).catch((function(){O(!1),t.push("/login")}))}));var U=function(e){j(e),t.push("/".concat(e))};return h?Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"main-nav",children:[Object(c.jsx)("img",{className:"main-nav-logo",src:d}),Object(c.jsx)("span",{className:"main-nav-logo-label",children:"PetDiary"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{className:"profile"===a?"main-nav-title-selected":"main-nav-title",onClick:function(){return U("profile")},children:"Profile"}),Object(c.jsx)("li",{className:"expenses"===a?"main-nav-title-selected":"main-nav-title",onClick:function(){return U("expenses")},children:"Expenses"}),Object(c.jsx)("li",{className:"encyclopedia"===a?"main-nav-title-selected":"main-nav-title",onClick:function(){return U("encyclopedia")},children:"Encyclopedia"})]}),Object(c.jsxs)("span",{className:"main-nav-logout",onClick:function(){fetch("/api/session",{method:"DELETE"}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)})).then((function(){O(!1),t.push("/login")}))},children:["Logout ",x]})]}),Object(c.jsxs)("div",{className:"main-content",children:["profile"===a?Object(c.jsx)("div",{children:Object(c.jsx)(f,{})}):null,"expenses"===a?Object(c.jsx)("div",{children:Object(c.jsx)(p,{})}):null,"encyclopedia"===a?Object(c.jsx)("div",{children:Object(c.jsx)(m,{})}):null]})]}):Object(c.jsx)(b,{})},v=Object(l.g)((function(e){var t=Object(l.f)(),n=Object(i.useState)(""),s=Object(o.a)(n,2),a=s[0],j=s[1],r=Object(i.useState)(!0),b=Object(o.a)(r,2),h=b[0],O=b[1],p=Object(i.useState)(!1),f=Object(o.a)(p,2),m=f[0],x=f[1],U=Object(i.useState)(""),v=Object(o.a)(U,2),g=v[0],A=v[1],z=function(){x(!0),function(e){var t=e.username;return fetch("/api/session",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({username:t})}).catch((function(){return Promise.reject({error:"network-error"})})).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).catch((function(e){return Promise.reject(e)}))}({username:a}).then((function(){A(""),t.push("/")})).catch((function(e){j(""),A("".concat(u[e]||"Please try again"))})).finally((function(){x(!1)}))};return Object(c.jsxs)("div",{className:"login-page",children:[Object(c.jsxs)("div",{className:"login-page-logo-panel",children:[Object(c.jsx)("img",{src:d}),Object(c.jsx)("span",{className:"login-page-logo-panel-label",children:"PetDiary"})]}),Object(c.jsx)("div",{className:"login-page-prompt-panel",children:"Sign in to PetDiary with username"}),Object(c.jsx)("div",{className:"login-page-input-panel",children:Object(c.jsx)("input",{className:"login-page-input",placeholder:"username",disabled:m,onChange:function(e){A(""),j(e.target.value),O(!e.target.value)},value:a,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),z())}})}),Object(c.jsx)("div",{className:"login-page-login-panel",children:Object(c.jsx)("button",{onClick:z,disabled:h||m,children:m?"...":"login"})}),g&&Object(c.jsx)("div",{class:"error-panel",children:g})]})}));var g=function(){return Object(c.jsx)(r.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/login",children:Object(c.jsx)(v,{})}),Object(c.jsx)(l.a,{path:"/profile",children:Object(c.jsx)(U,{view:"profile"})}),Object(c.jsx)(l.a,{path:"/expenses",children:Object(c.jsx)(U,{view:"expenses"})}),Object(c.jsx)(l.a,{path:"/encyclopedia",children:Object(c.jsx)(U,{view:"encyclopedia"})}),Object(c.jsx)(l.a,{children:Object(c.jsx)(U,{view:"profile"})})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};j.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),A()}},[[31,1,2]]]);
//# sourceMappingURL=main.336078b2.chunk.js.map